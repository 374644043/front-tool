import{a as E,E as g}from"./el-input-42eba5fd.js";import{E as w}from"./el-button-2af81166.js";import{d as U,r as i,c as _,e as o,I as P,J as T,w as u,y as x,t as B,o as d,g as m,a as y,E as h,_ as A}from"./index-92a8dbf4.js";const I={class:"api-test-container"},N=U({__name:"apiTest",setup($){const p=i(""),s=i(null),n=i([{key:"",value:""}]),k=()=>{n.value.push({key:"",value:""})},f=t=>{n.value.splice(t,1)},V=async()=>{try{const t=new URLSearchParams;n.value.forEach(a=>{a.key&&a.value&&t.append(a.key,a.value)});const e=await fetch(`${p.value}?${t.toString()}`,{credentials:"include",headers:{"Access-Control-Allow-Origin":"*"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);s.value=await e.json()}catch(t){s.value=t.message}};return(t,e)=>{const a=E,c=w,C=g;return d(),_("div",I,[o(a,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),placeholder:"输入API地址",class:"api-input"},null,8,["modelValue"]),(d(!0),_(P,null,T(n.value,(l,v)=>(d(),_("div",{key:v,class:"param-input"},[o(a,{modelValue:l.key,"onUpdate:modelValue":r=>l.key=r,placeholder:"参数名",class:"param-key"},null,8,["modelValue","onUpdate:modelValue"]),o(a,{modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,placeholder:"参数值",class:"param-value"},null,8,["modelValue","onUpdate:modelValue"]),o(c,{type:"danger",onClick:r=>f(v)},{default:u(()=>e[1]||(e[1]=[m("删除")])),_:2,__:[1]},1032,["onClick"])]))),128)),o(c,{type:"primary",onClick:k},{default:u(()=>e[2]||(e[2]=[m("添加参数")])),_:1,__:[2]}),o(c,{type:"primary",onClick:V},{default:u(()=>e[3]||(e[3]=[m("测试接口")])),_:1,__:[3]}),s.value?(d(),x(C,{key:0,class:"response-data"},{default:u(()=>[e[4]||(e[4]=y("h2",null,"响应数据",-1)),y("pre",null,h(s.value),1)]),_:1,__:[4]})):B("",!0)])}}});const b=A(N,[["__scopeId","data-v-2ada6015"]]);export{b as default};
